# VariÃ¡veis
GRADLE := ./gradlew
JAR_FILE := build/libs/$(shell basename `pwd`)-0.0.1-SNAPSHOT.jar
RUN_PORT := 8080

# Tarefas
.PHONY: limpar compilar executar testar empacotar

# Limpar o projeto
limpar:
	@echo "ðŸ§¹ A limpar o projeto..."
	$(GRADLE) clean

# Compilar o projeto
compilar:
	@echo "ðŸ”§ A compilar o projeto..."
	$(GRADLE) build

# Executar os testes
testar:
	@echo "ðŸ§ª A executar os testes..."
	$(GRADLE) test

# Empacotar o projeto (gera o JAR)
empacotar:
	@echo "ðŸ“¦ A empacotar o projeto..."
	$(GRADLE) bootJar

# Executar a aplicaÃ§Ã£o diretamente
executar:
	@echo "ðŸš€ A iniciar a aplicaÃ§Ã£o na porta $(RUN_PORT)..."
	$(GRADLE) bootRun

# Executar o JAR
executar-jar: empacotar
	@echo "ðŸš€ A iniciar a aplicaÃ§Ã£o a partir do JAR na porta $(RUN_PORT)..."
	java -jar $(JAR_FILE)

# Tarefa padrÃ£o: limpar, compilar, testar e empacotar
tudo: limpar compilar testar empacotar
	@echo "âœ… Tudo pronto!"
