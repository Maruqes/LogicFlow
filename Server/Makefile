# VariÃ¡veis
GRADLE := ./gradlew
JAR_FILE := build/libs/$(shell basename `pwd`)-0.0.1-SNAPSHOT.jar
RUN_PORT := 8080

# Tarefas
.PHONY: clean build run test package

# Limpar o projeto
clean:
	@echo "ðŸ§¹ Limpando o projeto..."
	$(GRADLE) clean

# Compilar o projeto
build:
	@echo "ðŸ”§ Compilando o projeto..."
	$(GRADLE) build

# Executar os testes
test:
	@echo "ðŸ§ª Executando os testes..."
	$(GRADLE) test

# Empacotar o projeto (gera o JAR)
package:
	@echo "ðŸ“¦ Empacotando o projeto..."
	$(GRADLE) bootJar

# Executar a aplicaÃ§Ã£o diretamente
run:
	@echo "ðŸš€ Iniciando a aplicaÃ§Ã£o na porta $(RUN_PORT)..."
	$(GRADLE) bootRun

# Executar o JAR
run-jar: package
	@echo "ðŸš€ Iniciando a aplicaÃ§Ã£o a partir do JAR na porta $(RUN_PORT)..."
	java -jar $(JAR_FILE)

# Tarefa padrÃ£o: limpar, compilar, testar e empacotar
all: clean build test package
	@echo "âœ… Tudo pronto!"
